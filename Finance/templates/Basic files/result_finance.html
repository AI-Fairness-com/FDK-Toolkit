<!DOCTYPE html>
<html>
<head>
    <title>FDK Finance Fairness Audit - Results</title>
    <style>
        .container { max-width: 900px; margin: 40px auto; padding: 20px; }
        .success-card { background: #e7f3ff; padding: 30px; border-radius: 10px; margin: 25px 0; border-left: 5px solid #007bff; }
        .error-card { background: #f8d7da; padding: 30px; border-radius: 10px; margin: 25px 0; border-left: 5px solid #dc3545; }
        .summary-card { background: #f0f8ff; padding: 25px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #0056b3; }
        .disclaimer-card { background: #fff3cd; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ffc107; }
        .file-info { background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 15px 0; border: 1px solid #dee2e6; }
        .summary-content { background: white; padding: 25px; border-radius: 8px; margin: 20px 0; border: 1px solid #e9ecef; }
        .back-btn { background: #6c757d; color: white; padding: 12px 25px; border: none; border-radius: 5px; cursor: pointer; }
        .download-btn { background: #2E8B57; color: white; padding: 12px 25px; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px; }
        .filename { font-weight: bold; color: #2c3e50; font-size: 1.1em; }
        .report-path { color: #6c757d; font-size: 0.9em; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üí∞ FDK Finance Fairness Audit</h1>
        
        {% if title == "Finance Fairness Audit Completed" %}
        <div class="success-card">
            <h2 style="color: #0056b3; margin-top: 0;">‚úÖ {{ title }}</h2>
            <p style="color: #0056b3; font-size: 1.1em;">{{ message }}</p>
        </div>

        <div class="file-info">
            <h3 style="color: #2c3e50; margin-top: 0;">üìÅ Finance Dataset Information</h3>
            <p><span class="filename">{{ request.args.get('filename', 'Your uploaded finance dataset') }}</span></p>
            <p style="color: #6c757d; font-size: 0.9em;">
                ‚úÖ Comprehensive finance fairness analysis completed successfully
            </p>
        </div>

        <div class="summary-card">
            <h3 style="color: #003366; margin-top: 0;">üìä Finance Audit Summary</h3>
            <div class="summary-content">
                {{ summary|safe }}
            </div>
        </div>

        {% if report_filename %}
        <div style="text-align: center; margin-top: 30px;">
            <a href="{{ url_for('finance.finance_upload_page') }}">
                <button class="back-btn">‚Üê Back to Finance Upload</button>
            </a>
            <a href="{{ url_for('finance.download_finance_report', filename=report_filename) }}">
                <button class="download-btn">üì• Download Full JSON Report</button>
            </a>
            <p class="report-path">Full technical report: {{ report_filename }}</p>
        </div>
        {% endif %}

        {% else %}
        <div class="error-card">
            <h2 style="color: #721c24; margin-top: 0;">‚ùå {{ title }}</h2>
            <p style="color: #721c24; font-size: 1.1em;">{{ message }}</p>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="{{ url_for('finance.finance_upload_page') }}">
                <button class="back-btn">‚Üê Back to Finance Upload</button>
            </a>
        </div>
        {% endif %}

        <div class="disclaimer-card">
            <h4 style="color: #856404; margin-top: 0;">üí∞ Regulatory Disclaimer</h4>
            <p style="color: #856404; font-size: 0.9em; margin: 0;">
                This finance fairness audit complies with regulatory standards and algorithmic accountability frameworks. This tool is for fairness assessment only and does not provide financial advice, determine credit eligibility, or replace professional financial consultation. For regulatory concerns, consult qualified compliance professionals.
            </p>
        </div>
    </div>
</body>
</html>
